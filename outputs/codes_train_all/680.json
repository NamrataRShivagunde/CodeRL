{"680": {"code": ["\n\n-----Example Example-----\n\n\n\n\n\n\n\n\n1\n2 -1 \\le 3 \\cdot 10^5$\n3 -1 \\cdot 7 \\,.\n\n-----Example Example-----\n\n\n\n\n\n\n1\n2 2 -1\n\n\n\n\n\n..\n\n\n\n\nQ\n\n-----Example Output-----\n\n 2 3 4 4", "\n\n-----Description-----\n\n\n\n\n\n\n\n\n1\n2 -1 4 3 2 -3\n5 -1 4\n2 -1 5 4\n3 -1 4\n6\n\n2 -1 3\n4\n\n\n\n\n\n\n\n\n\n\n\n\n\n-----Example Example-----\n\n\nQ$\n\n-----Example Example-----\n-\n 2 3 4", "\n\nT\n\n\n\n\n\n\n1 - 1 - 1 - 1 1 - 1\n2 - 1 1 - 1\n2 - 1 - 1\n2 - 1\n1 - 1\n\n-----Example Output-----\n\n\n2\n\n\n3 3 3\n\n\n\n\n\n\n\n\n\n\nQ$\n\n-----Example Output-----\n1 2 3 2\n 2 3 4", "\n\n\n\n\n\n\n\n1 \\le N \\cdot B \\,.\n2 \\le N \\cdot M \\,.\n2 \\le N \\cdot M \\,.\n\n-----Example Example-----\n\n\n2\n\n\n\n\n2 2 -2\n\n\n\n\n\n\n\n\n\n-\n2\n\n\n-----Example Output-----\n 2 3 4 4\n", "\n\n\n\n\n\nQ$\n\n\n- $0 \\le 1 \\le 7 \\,\n- $1 \\le 1 \\,\n- $2 \\le 2 \\,\n- $3 \\le 3 \\,\n\n\n\n\n\n\n3\n\n\n.\n\n\n\n\n\n\n\n\n\n2 3 4\n3\n6\n 2 3 4\n4\n", "\n-----Input-----\n\nIf the query is a query, the query is a query of one of the three types.\n\n\n\n\n\n\n\n\n\n-----Example Description-----\n\n2 5 3\n2\n4\n\n\n2 3 4\n3 3 3\n\n\n\n\n\n\n\n\n\n\n\nA$\n\n-----Example Output-----\n-\n2 5 2 3", "\n\n\n\n\n-----Example Description-----\n\nThe scores are defined by a score function.\n\n-----Example Description-----\n\nThe score function is defined as follows:\n\n\n\n\n\n\n\n-----Examples-----\n\n\n\n3\n\n\n\n\n\n\n\n\n\n\n\n\n\n-----Example Result-----\n- $0 \\le T$\n\n\n\n2 4 3", "\n\nT \\le 10$\n\n-----Example Input-----\n1 2 3 3\n\n\n\n\n\n1 - 3 4 6 6 3\n1 - 3 3 3\n1 - 2 3 2\n\n-----Example Output-----\n1 2 3 3\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n2 4 3 3 4\n\n 2 2 3 3\n2 4", "\n-----Description-----\n\n\n\n\n\n\n\n\n1 2 2 3 1 2 3 2 3 3\n1 2 2 2 2 3 3 4\n1 2 2 1\n1 2 3 2 2\n1\n\n1\n\n2 3 3 -2\n3\n\n\n\n\n,\n\n\n\n\n2$\n\n- 1 2 3 -2\n1 2 3\n1 2", "\n\nQ \\le 10^5$\n\n-----Example Example-----\n\nA query with one update of three types:\n\n-----Input-----\n\n\n\n\n\n\n\n\n2 2 3 3\n\n\n\n1 2 3 3 3\n3 2 5\n\n\n\n\n\n\n\n\n\n\n\n0 $2$\n2 \\le 10$\n\n\n 2 3 4", "\n\n-----Description-----\n\n\n\n\n-----Example Description-----\n\nThe first line of the input contains a single integer.\n\n-----Example Description-----\n\n\n\n\n\n\n\n-----Examples-----\n\n\n\n\n3\n\n-----Example Description-----\n\n\n\n\n\n\n\n\n\n,\n\n\n\n\n\n3 3 4 3\n2 -3\n6 4 3", "\n\n\n\n\n\n\n\n\n1 0 0 1 0 1 0\n\n1 0 0 0 0\n1 0 1 1 1 1\n\n0 0 0 0 1 1\n0 0 0 0 1\n\n-----Example Output-----\n1\n2\n\n-----Example Example-----\n\n\n\n\n\n\n.\n\n\n\n\n\n2\n\n\n-----Example Output-----\n2 2", "\n\n-----Description-----\nQ$\nQ$\n\n-----Example Description-----\n\nThe query is considered valid.\n\n\n\n\n\n 2 3 3\n2 2 2 2\n1 2 3 2\n2 2 3\n\n\n\n2 2 3 4\n\n\n\n\n\n\n\n\n\n\n\n1 \\le 1$\n2 \\le 3$\n\n 2 3 4 4", "\n\n\n\n\n\n\n\n\n\n1 - 2 - 2 - 1 - 1 - 2 - 2 - 2 - 1 - 2 - 3\n\n-----Example Example-----\n1 2 3 -2 2 -2\n1\n\n\n\n\n2 2 -2\n\n\n\n\n\n\nQ$\n\n\n-----Example Output-----\n\n\n\n\n2 3 3 2 3 4 4", "\n-----Example Description-----\n\n\n\n1 - 3 4 5 6 3\n\n\n\n\n\n1 - 3 4 6 3 3\n1 - 3 4 6\n1 - 2 5 6\n1\n\n\n\n5\n3 3 4 3 3\n\n\n\n\n\n\n\n\n\n\n\n\n\n1 - 2 3 2 4 3\n2 3 3\n\n 2 3 4 4", "\n\n-----Description-----\n\nA test case of three types:\n\n\n\n-----Example Description-----\n\n1 1 1 1 2 1 1 1 1\n\n-----Example Description-----\n\n\n\n\n\n\n\n\n\n1 2 3\n\n2 3 2 -1\n\n\n\n\n\n\n\n\n\n\n\n-----Example Example-----\n\n\n2 2 3\n2 4 4", "\n\n\n\n\n-----Example Example-----\n\nUse the score function of the three types:\n\n\n\n\n\n\n2 \\le N \\le M \\,\n5 \\le 7 \\,\n\n\n-----Example Example-----\n\n\n\n\n\n\n\n,\n\n\n\n.\n,\n\n\n\n\n4 5 6\n3 3 2 3\n4 4 6\n 2", "\n\nT = 2\nQ = 3\nX = 1\n\n\n\n\n\n\n\n\n\n2 3 3 3 6\n1 2 3 3 4\n1 2 3 4\n1 2 3 3\n1 1 2 3 3\n\n\n\n\n2 3 4 3\n1\n\n\n\n\n\n\n,\n\n1\n2 3 4 -2\n5\n\n 4 4 3", "\n\nN,M,Q\n\n-----Example Input-----\n1 4 3 6 6\n4 5 3\n\n\n\n\n\n\n1 2 3 3 4\n2 3 2 3 3\n\n\n\n2 3 4 4 6\n2 3 3 4\n\n\n\n\n\n\n\n\n\n\n\n\n\n2 \\le 7 $N$ -1 $M$\n\n 4 4", "\n\n\n\n\n\nQ\n\n-----Examples-----\n\nThe results of the three test cases are\n\n-----Example Output-----\n- 1 2 3 4\n1 2 3 3\n2 3 4\n\n-----Example Output-----\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n,\n\n\n\n\n1 3 4 3\n5 3 3\n\n\n2 2 3 4"], "prompt": "\nQUESTION:\nYou are given two integer sequences $A_1, A_2, \\ldots, A_N$ and $B_1, B_2, \\ldots, B_M$. For any two sequences $U_1, U_2, \\ldots, U_p$ and $V_1, V_2, \\ldots, V_q$, we define\nScore(U,V)=\u2211i=1p\u2211j=1qUi\u22c5Vj.Score(U,V)=\u2211i=1p\u2211j=1qUi\u22c5Vj.Score(U, V) = \\sum_{i=1}^p \\sum_{j=1}^q  U_i \\cdot V_j \\,.\nYou should process $Q$ queries of three types:\n- $1$ $L$ $R$ $X$: Add $X$ to each of the elements $A_L, A_{L+1}, \\ldots, A_R$.\n- $2$ $L$ $R$ $X$: Add $X$ to each of the elements $B_L, B_{L+1}, \\ldots, B_R$.\n- $3$: Print $Score(A, B)$ modulo $998,244,353$.\n\n-----Input-----\n- The first line of the input contains a single integer $T$ denoting the number of test cases. The description of $T$ test cases follows.\n- The first line of each test case contains two integers, $N$ and $M$, denoting the length of $A$ and $B$ respectively.\n- The second line contains $N$ integers, elements of $A$.\n- The third line contains $M$ integers, elements of $B$.\n- The next line will contain an integer, $Q$, number of queries.\n- Each of the next $Q$ lines will contain one of $3$ kinds of updates as mentioned in the statement\nIt\u2019s guaranteed that each update is a valid update operation.\n\n-----Output-----\nFor each query of the third type, print a single line containing one integer - the answer to that query.\n\n-----Constraints-----\n- $1 \\le T \\le 10$\n- $2 \\le N, M, Q \\le 10^5$\n- $0 \\le |A_i|, |B_i|, |X| \\le 10^5$\n\n-----Example Input-----\n1\n3 4\n2 -1 5\n3 3 2 4\n6\n3\n1 2 3 -2\n3\n1 1 3 1\n2 2 4 2\n3\n\n-----Example Output-----\n72\n24\n90\n\n-----Explanation-----\nBefore the first operation, $A = [2, -1, 5],\\ B = [3, 3, 2, 4]$\nSo, for the first operation,\n$Score(A,\\ B) = 2*3 + 2*3 + 2*2 + 2*4$ $+ (-1)*3$ $+ (-1)*3$ $+ (-1)*2$ $+$ $(-1)*4$ $+  5*3$ $+ 5*3$ $+ 5*2$ $+ 5*4$ $= 72.$\nAfter the second query $A = [2, -3, 3]$, $B = [3, 3, 2, 4]$\nSo, for the third query, $Score(A, B) = 2*3 + 2*3 + 2*2$ $+ 2*4$ $+ (-3)*3$ $+ (-3)*3$ $+ (-3)*2$ $+ (-3)*4$ $+  3*3$ $+ 3*3$ $+ 3*2$ $+ 3*4$ $= 24$.\nUse Standard Input format\nANSWER:\n"}}