{"2107": {"code": ["\n\n-----Note-----\n\n\n\n\n\n\n\n\n\n\n-----Note-----\n\nNote:\n\n\n\n\n\n\n\n\n\n\n-----Note-----\n\nThe last sample testcase is:\n\n\n\n can be transformed to \"(())\". \n\nInput\n???\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n be transformed to \"(()", "\n\n-----Note-----\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n-----Note-----\n\nThe first sample testcase:\n\n\n\n\n can be transformed to \"(())\".  \"??()?\" which can be transformed to \"(())\". \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n can be transformed", "\n\n-----Note-----\n\n\n\n\n\n\n\nPlace:\n\n\n\n????\n\n\n-----Note-----\n\nThe first sample testcase:\n\nAs Will is stuck in Upside Down \n\nAs Will is stuck in Upside Down \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n be transformed to \"(", "\n\n-----Note-----\n\nNote:\n\n\n\n\n\n\n\n2\n\n-----Note-----\n\nNote:\n\nThe second sample testcase:\n\nAs\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n-----Note-----\n\n\n\n\n\n\n\n\n\n\n\n\n be transformed to \"(())\".  \"?()?\" which", "\n\n-----Note-----\n\n\n\n\n\n\n\n\n\n\n\n-----Note-----\n\nThe second sample testcase:\n\n\n\n\n-----Note-----\n\n\n\n?()??\n??()?\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n-----Note-----\n\nThis is the first sample testcase\n", "\n\n\n\n\n\n-----Note-----\n\n\n\n\n\n\n\nNote-----\n\n\n\n?????\n\n\n\n\n-----Note-----\n\n\n\n be transformed to \"(())\".  \"?()?\" which can be transformed to \"(())\".  \n\n-----Note-----\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n be transformed to \"(()", "\n\n\n\n\n\n\n\n\n-----Note-----\n\nThe first sample testcase:\n\n\n\n-----Note-----\n\nThe second sample testcase:\n\n\n\n\n\n\n\n\n can be transformed to \"(())\".  \"???\" which can be transformed to \"(())\". \n\n\n\n\n\n\n\n\n\n\n\n\n-----Note-----\n\n can be", "\n\n\n-----Note-----\n\nThe first sample testcase:\n\n\n\n-----Note-----\n\n\n\n\n\n\n\n-----Note-----\n\n\n\n\n\n\n\n\n\n\n\n\n\n can be transformed to \"(())\"\n\n-----Note-----\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n be transformed to \"(())\".  \"?", "\n\n-----Note-----\n\n\n\n\n-----Note-----\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n??\n\n-----Note-----\n\n can be transformed to \"(())\".\n\n\n-----Note-----\n\n\n\n\n\n\n\n\n-----Note-----\n\n\n\n\n\n\n be transformed to \"(())\".  \"?()?\" which", "\n\n\n-----Note-----\n\nExample:\n\nExample:\n\nExample:\n\nExample:\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n-----Note-----\n\n\n\n\n\n\n\n\n\n\n can be transformed to \"(())\".\n \n\n\n\n\n\n\n\n\n\n\n\n-----Note-----\n\n\n\n\n\n be transformed to", "\n\n\n\n\n\n\n\n4\n3\n5\n6\n\n-----Note-----\n\nThe first sample testcase:\n\nAs Will is stuck in Upside Down\n\nAs Will is stuck in Joyce\n\nJoyce is stuck in Joyce\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n", "\n\n-----Note-----\n\nNote:\n\n\n\nInput\n5\n\nOutput\n6\n\n\n-----Note-----\n\nNote:\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n-----Note-----\n\n\n\n\n\n\n\n\n\n be transformed to \"(())\".  \"?", "\n3\n\n\n\n\n\n\n\n\n\n\n\n\n\n-----Note-----\n\nThe first sample testcase:\n\n\n\n\n\n\n\n\n can be transformed to \"(())\".  \"?()?\" which can be transformed to \"(())\".  \n\nInput\n???\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n can be transformed", "\n\n-----Note-----\n\n\n\n\n\n\n\n\n\n\n?()?\n\n?()??\n\n\n\n\n\n\n\n\n\n?????????\n\n????????\n\n\n\n\n\n\n\n\n\n\n\n\n???\n\nNote-----\n\n\n\n\n\n be transformed to \"(())\".  \"?()", "\n5\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n?()?\n\n\n\n-----Note-----\n\nNote:\n\n\n can be transformed to \"(())\".  \"??\" which can be transformed to \"(())\".  \"??\" which can be transformed to \"(())\".\n\n\n\n\n\n\n\n\n\n\n\n be transformed to \"(", "\n\n\n\n3\n3\n3\n4\n3\n5\n\n5\n5\n\n6\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n?()??\n\n\n-----Note-----\n\n\n\n\n be transformed to \"(())\".\n\n\n\n\n\n\n\n\nNote-----\n\n\n\n\n\n be transformed to \"(())\".  \"?", "\n\n-----Note-----\n\nNote:\n\n\n\n\n-----Note-----\n\n\n\n\n\n\n\n\n\n\n\n\n\n???\n?????????\n???????\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n-----Note-----\n\n\n\n\n\n\n be transformed to \"(())\".", "\n\n\n1\n\n\n\n\n\n\n\n\n1\n\n-----Note-----\n\nThe second sample testcase:\n\n\n\n?????\n\n\n can be transformed to \"(())\".  \"?()?\" which can be transformed to \"(())\".  \"?\"??? \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n be transformed to \"(())\".", "\n\n\n3\n3\n3\n3\n3\n3\n3\n3\n3\n3\n3\n3\n3\n3\n\n\n\n\n\n\n\n\n\n\n-----Note-----\n\n\n\n\n\n\n\n\n can be transformed to \"(())\". \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n be transformed to \"(())\".", "\n5\n\n-----Note-----\n\nNote:\n\n\n\n\n-----Note-----\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n can be transformed to \"(())\".  \"?()?\" which can be transformed to \"(())\".  \"?\"??\" which can be transformed to \"(())\"\n\n\n\n\n\n\n\n\n\n\n\n\n \n"], "prompt": "\nQUESTION:\nAs Will is stuck in the Upside Down, he can still communicate with his mom, Joyce, through the Christmas lights (he can turn them on and off with his mind). He can't directly tell his mom where he is, because the monster that took him to the Upside Down will know and relocate him.  [Image] \n\nThus, he came up with a puzzle to tell his mom his coordinates. His coordinates are the answer to the following problem.\n\nA string consisting only of parentheses ('(' and ')') is called a bracket sequence. Some bracket sequence are called correct bracket sequences. More formally:  Empty string is a correct bracket sequence.  if s is a correct bracket sequence, then (s) is also a correct bracket sequence.  if s and t are correct bracket sequences, then st (concatenation of s and t) is also a correct bracket sequence. \n\nA string consisting of parentheses and question marks ('?') is called pretty if and only if there's a way to replace each question mark with either '(' or ')' such that the resulting string is a non-empty correct bracket sequence.\n\nWill gave his mom a string s consisting of parentheses and question marks (using Morse code through the lights) and his coordinates are the number of pairs of integers (l, r) such that 1 \u2264 l \u2264 r \u2264 |s| and the string s_{l}s_{l} + 1... s_{r} is pretty, where s_{i} is i-th character of s.\n\nJoyce doesn't know anything about bracket sequences, so she asked for your help.\n\n\n-----Input-----\n\nThe first and only line of input contains string s, consisting only of characters '(', ')' and '?' (2 \u2264 |s| \u2264 5000).\n\n\n-----Output-----\n\nPrint the answer to Will's puzzle in the first and only line of output.\n\n\n-----Examples-----\nInput\n((?))\n\nOutput\n4\n\nInput\n??()??\n\nOutput\n7\n\n\n\n-----Note-----\n\nFor the first sample testcase, the pretty substrings of s are:  \"(?\" which can be transformed to \"()\".  \"?)\" which can be transformed to \"()\".  \"((?)\" which can be transformed to \"(())\".  \"(?))\" which can be transformed to \"(())\".  \n\nFor the second sample testcase, the pretty substrings of s are:  \"??\" which can be transformed to \"()\".  \"()\".  \"??()\" which can be transformed to \"()()\".  \"?()?\" which can be transformed to \"(())\".  \"??\" which can be transformed to \"()\".  \"()??\" which can be transformed to \"()()\".  \"??()??\" which can be transformed to \"()()()\".\nUse Standard Input format\nANSWER:\n"}}