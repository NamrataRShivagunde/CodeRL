{"1577": {"code": ["\n-----Required-----\n\n\n\n\n\n- The first line contains two numbers of query types:\n- $0 \\le 1\\cdot 10^5$\n\n\n\n\n\n\n\n\n\nN \\le 10^5$\n\n-----Implications-----\n-\n\n\n\n\n\n\n\n\n- $1 \\le 10^5$\n\n\n- Type 1", "\n-----Syntax-----\n\n\n\n\n\n\n\n\n- $1 \\le N \\cdot 10^5$\n- $0 \\le 0 \\cdot 10^5$\nConstraints-----\n\n\n\n\n\n\n\n\n\nN$\n\n\nN$\n\n-----Info-----\n\nYou are connected to the first query:\n\nV$\n\n\n\n- Type", "\nInput-----\n- The first line contains two integers separated by a slash '/' \u2014 the number of query types.\n\n\n\n\n\n\n\n\n\n\n\n\n- $1 \\le 2\\cdot 10^5$\n\n\n\n\n\n\n\n\n\n- $0 \\le N \\le M \\le 2$\n\n\n- $1 \\le N \\", "\n-----Input-----\n\n- Query type 3\n\n\n\n\n\n\n\n\n\n\n- $1 \\le N \\le M \\le 2 \\cdot 10^5$\n- $0 \\le 2 \\cdot 10^5$\n\n\n\n\n\n\n\n\n\n\n\n\n\n1 \\le N \\le 10^5$\n\n\n- Type 1:", "\nInput-----\n\nA query of type 2\n\nA query of type 3\n\n\n\n\n\n\n\n\n\n\n\n\n $0 \\le N \\le M \\le 2\\cdot 10^5$\n\n-----Constraints-----\n-\n\n\n\n\n\n\n\n\n\n1\n\n-----Results-----\n\n$N$\n\n\n-----Notes-----\n-2", "\n-----Description-----\n\nThe query is performed on the given gears.\n\n\n\n\n\n\n\n\n\n\n- $1 \\le N \\le M \\le 2\\cdot 10^5$\n\n\n\n\n \\dots \\le $T$\n\nConstraints-----\n\n\n\n\n\n\n\n1 \\le 10^5$\n\n- $1 \\le", "\nInput-----\n\n\n\n\n\n\n- $0 \\le 1 \\cdot 10^5$\n- $1 \\le 1 \\cdot 10^5$\n\nConstraints-----\n\n\n\n\n\n1 \\le 1$\n\n\n\n\n\n\n\n\n-----Arguments-----\n- $0 \\le 0$\n\n\nle A \\le 0$\n- $3", "\nType 1:\n\n    Type 2:\n    Type 2:\n\n    Type 3:\n\n   \n\n-----Notes-----\n\n\n\n\n\n\n\n\n\n\n\n\n- $0 \\le 10^5$\n\n1 \\le 10^5$\n\n-----Constraints-----\n-\n\n\n\n\n\n\nV$\n\n-----Notes-----\n-\n\n", "\nInput-----\n1 \\le 10^5$\n\n-----Constraints-----\n- $6 \\le 0 \\le 10^5$\n\n\n\n\n\n\n\n\n\n\n\n\n\n1 \\le 10^5$\n\n\nN$\n\n-----Usage-----\n-V$\n\n-----Experimental-----\n\n\nV$\n\n-----Notes-----\n-\n\n-", "\n-----Required-----\n\n\n\n\n\n- $1 \\le 10^5$\n- $0 \\le 2\\cdot 10^5$\n- $0 \\le 0 \\cdot 10^5$\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n1 \\le $N$\n\n\n-----Exit-----\n\nThe query is executed", "\n-----Usage-----\n\nT = 3\n\n-----Error-----\n\n$0$\n\n\n\n\n\n\n-----Options-----\n\n- $0 \\le 0 \\le 0 \\le 10^5$\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n-----Notes-----\n\n\n\n\nT = 4\n\n-----Success-----\n-\n\n- The", "\n-----Help-----\n\n\n\n\n\n\n-\n\n- $1 \\le 1 \\cdot 10^5$\n- $0 \\le 0 \\cdot 10^5$\n\n-----Notes-----\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n- $1 \\le N \\le 2 \\cdot 10^5$\n\n\n\n\n\n\n", "\nInput-----\n- The first line is the query.\n\n\n\n\n\n\n\n\n1 \\le 10^5$\n- $0 \\le 0 \\le 10^5$\n\n\n\n$\n\n\n\n1 \\le 10^5$\n\n-----Constraints-----\n- $1 \\le 1$\n-\n\n1\n\n-----Output-----\n\nFor each query", "\nInput-----\n- The first line is the query\n- The second line is the query\n\n-----Constraints-----\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n$\n\n\n1 \\le $N$\n$1 \\le $M$\n$1 \\le $T$\n\n\n\nT = 3$\n1 \\le 1$\n\n\n\nN =", "\n-----Input-----\n\n\n\n\n\n\n\n\n- $0 \\le 10^5$\n- $1 \\le 6 \\cdot 10^5$\n\n-----Constraints-----\n\n\n\n\n\n1 $X$\n\n\nN$\n\n-----Input-----\n\n-$\n\n1\n\n-----Constraints-----\n\n-\n\n$\n\n-----Output-----\n", "\nType 1\n\nType 2\n\nType 3\n\nType\n\n-----Error handling-----\n\n\n0\n\n\n\n\n\n-----Constraints-----\n\n- $0 \\le 3$\n\n\n-----Constraints-----\n\n\n\n\n\n\n\n\n\n\ni$\n\n-----Issue-----\n\n\n\n-----Issue handling-----\n-\n1\n\n- $5 \\le", "\nInput-----\n- $0 \\le N \\le M \\le V \\le A \\le N\n\n\n\n\n\n\n\n\n\nT \\le 1 \\le 1 \\le 3$\n\n\n\n\nT \\le 1$\n\n\n\n\n$\n\n\n\n- $6 \\le $0$\n\n-----Constraints-----\n-\n- $0 \\le N", "\n-----Information-----\n\n### The queries are in the following format:\n\n\n\n\n\n\n\n- Type 1: Find the numbered gears numbered $1$\n- Type 2: Find the numbered gears numbered $1$\n\n\n\n\n\n\n\n \\\n\n\n\n\n\n\n\n\n-----Constraints-----\n-\n\n\n- $1 \\le", "\nInput-----\n\n-----Constraints-----\n\n- $1 \\le 3 \\cdot 10^5$\n\n\n\n\n\n\n\n\n\n\n\n\n\n $T \\le 1$\n\n-----Rules-----\n- $1 \\le 3$\n- $6 \\le 5$\n\n\n\n\n\n\n-\nT = 0$\n\n\n\n\n-----Checkout", "\n-----Description-----\n\nThis command is used to simulate a query of type 3.\n\n\n\n\n\n\n\n-\n$T$\n\n-----Example-----\n\n\n \\cdot 10^5$\n\n\n\n\n $1 \\le 2$\n\n\n\n\n\n\n\nT = 3\n\n\n\n\n\n- $1 \\le N \\le $6$"], "prompt": "\nQUESTION:\nYou are given $N$ gears numbered $1$ through $N$. For each valid $i$, gear $i$ has $A_i$ teeth. In the beginning, no gear is connected to any other. Your task is to process $M$ queries and simulate the gears' mechanism. There are three types of queries:\n- Type 1: Change the number of teeth of gear $X$ to $C$.\n- Type 2: Connect two gears $X$ and $Y$.\n- Type 3: Find the speed of rotation of gear $Y$ if gear $X$ rotates with speed $V$.\nIt is known that if gear $i$ is directly connected to gear $j$ and gear $i$ rotates with speed $V$, then gear $j$ will rotate with speed $-V A_i / A_j$, where the sign of rotation speed denotes the direction of rotation (so minus here denotes rotation in the opposite direction). You may also notice that gears can be blocked in some cases. This happens when some gear would have to rotate in different directions. If a gear is connected to any blocked gear, it is also blocked. For example, if three gears are connected to each other, this configuration can not rotate at all, and if we connect a fourth gear to these three, it will also be blocked and not rotate.\n\n-----Input-----\n- The first line of the input contains two space-separated integers $N$ and $M$.\n- The second line contains $N$ space-separated integers $A_1, A_2, \\dots, A_N$.\n- The following $M$ lines describe queries. Each of these lines begins with an integer $T$ denoting the type of the current query.\n- If $T = 1$, it is followed by a space and two space-separated integers $X$ and $C$.\n- If $T = 2$, it is followed by a space and two space-separated integers $X$ and $Y$.\n- If $T = 3$, it is followed by a space and three space-separated integers $X$, $Y$ and $V$.\n\n-----Output-----\nFor each query of type 3, print a single line containing two integers separated by a slash '/' \u2014 the numerator and denominator of the rotation speed of the given gear expressed as an irreducible fraction (even if this speed is an integer), or $0$ if the gear does not rotate at all.\n\n-----Constraints-----\n- $1 \\le N \\le 10^5$\n- $1 \\le M \\le 2\\cdot 10^5$\n- $6 \\le A_i \\le 10^6$ for each valid $i$\n- $1 \\le X, Y \\le N$\n- $1 \\le C, V \\le 10^6$\n\n-----Subtasks-----\nSubtask #1 (30 points):\n- $N \\le 2,000$\n- $M \\le 5,000$\nSubtask #2 (70 points): original constraints\n\n-----Example Input-----\n4 10\n6 8 10 13\n3 1 2 2\n2 1 2\n3 1 2 3\n2 2 3\n1 1 7\n3 1 3 10\n2 3 1\n3 1 3 2\n2 1 4\n3 1 4 6\n\n-----Example Output-----\n0\n-9/4\n7/1\n0\n0\n\n-----Explanation-----\nFor the first query of type 3, there are no connections between gears, so the answer is $0$.\nFor the second query of type 3, we can calculate the rotation speed using the formula $-3\\cdot\\frac{6}{8} = \\frac{-9}{4}$.\nFor the third query of type 3, we can use the formula twice, so the speed of the second gear is $-10\\cdot\\frac{7}{8} = -\\frac{35}{4}$, and the speed of the third gear is $-(-\\frac{35}{4})\\frac{8}{10} = \\frac{7}{1}$.\nFor the last query of type 3, all gears are blocked.\nUse Standard Input format\nANSWER:\n"}}