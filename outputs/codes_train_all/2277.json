{"2277": {"code": ["\n\n\n-----Input-----\n\nA query is provided.\n\n-----Input-----\n\nQuery:\n\n\n\n-----Input-----\n\n\n\n\n\n\nInput-----\n\n\n\n\n\n\n\n\n-----Output-----\n\n\n\n\n\n\n-----Input-----\n\n\n\nn$\n\n\n\n\n-----Input-----\n\n\nk$\n\n\n subsequences of", "\n\n-----Input-----\n\n\n\n\n-----Input-----\n\n\n\nA query:\n\n-----Input-----\n\nA query:\n\n-----Query-----\n\nA query of length n$ to m$\n\n-----Input-----\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ni$\n\n\n is the query. The $", "\n\n-----Input-----\n\n\n\n\n\n\n\n\n\nInput-----\n\nA query:\n\n-----Query-----\n\nThe Lynyrd and Skynrd bought to a shop.\n\n\n\n-----Input-----\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n-----Input-----\n\n\n\n-----Input-----\n\n\n\n integers are the same", "\n\n-----Output-----\n\nThe following line has been generated for you:\n\n-----Input-----\n\n\n\n\n-----Input-----\n\n\n\n\nInput-----\n\nInput-----\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n-----Output-----\n\nThe last line contains three integers $n$.\n\n\n\nn$\n\n-----\n\n elements are the query", "\n\n\n\n\n-----Input-----\n\n\n-----Input-----\n\n\n\n\n\n\nInput-----\n\nThe Lynyrd and Skynrd bought to a shop.\n\n-----Output-----\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n-----Input-----\n\n\n\n\n\n\n\n\n\n\nn$ \n\n\n integers are the integers from the", "\n\n\n\n\n\n\n\n-----Input-----\n\nThe query starts with\n\n-----Input-----\n\nThe query starts with\n\n-----Input-----\n\nThe number of queries\n\n-----Input-----\n\nThe number of queries\n\n-----Input-----\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n elements are a sub", "\n\n\n\n-----Input-----\n\nThe first line contains three integers\n\n-----Input-----\n\nThe second line contains three integers\n\n-----Input-----\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n-----Output-----\n\n\n-----Input-----\n\n\n\n\n\n\ni$ = 0\n\n\n\n elements are $i", "\n\n\n\n\n-----Prompt-----\n\nBored to a shop\n\n\n\n\nbored\n\n-----Input-----\n\nA query:\n\n-----Input-----\n\nA subsequence of a permutation of length $n$ to $m$\n\n-----Prompt-----\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n are the same", "\n\n-----Input-----\n\n\n\n\n\n\n\nq$\n\n-----Output-----\n\nThe first line contains three integers $n$ and $m$.\n\nThe second line contains three integers $i$.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n-----Output-----\n\n\n\n\n\n integers are the subsequences of length", "\n\n\n\n\n-----Input-----\n\nThis is a simple example of the input:\n\n\n\nA query:\n\n-----Input-----\n\nThe query can be a query:\n\n-----Input-----\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n-----Input-----\n\n\nn$\n\n\n\n elements are rearr", "\n\n\n\n\n-----Output-----\n\n\n\nA sequence of length n$ to m$, q \\le 2 \\cdot 10^5$\n\n-----Prompt-----\n\nA number of queries\n\n-----Input-----\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n-----Output-----\n\n\n\n\n\n\n elements are the query. The", "\n-----Output-----\n\n\n\n\n\n\nn$:\n\n-----Input-----\n\nThe first line contains three integers:\n\n-----Input-----\n\nA subsequence of length $n$:\n\n-----Input-----\n\nA query of length $m$:\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n elements are all", "\n\n\n\n\n\n-----Input-----\n\n\n\n\n\n\n-----Input-----\n\nThe input is the form:\n\n-----Input-----\n\nLynyrd and Skynyrd bought to a shop\n\n-----Input-----\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nn$\n\n\n\n-----Input-----\n elements", "\n\n\n-----Output-----\n\n\n\n\n-----Question-----\n\n\nLynyrd and Skynrd bought to a shop\n\nA query of length n$ to m$\n\n-----Question-----\n\nThe query of length m$\n\n-----Input-----\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n elements is the query", "\n\n\n\n\n\n\n\n\n\n-----Input-----\n\nA query:\n\n-----Query-----\n\nThe query of a subsegment of an array $a$ appears exactly once in it. \n\n-----Input-----\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n-----Output-----\n\n\n-----Input-----\n\n\n\n\n $n$", "\n\n-----Output-----\n\nn$\n\n-----Input-----\n\nA query for each subsequence of array $a$\n\n-----Input-----\n\n\n\n\n\n\nA cyclic shift:\n\n-----Input-----\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n-----Output-----\n\nThe\ni$ = q\n\n\n elements are the sub", "\n\n-----Input-----\n\n\n\n\n-----Input-----\n\n\n\n\n\nInput-----\n\nA line of the input,\n\n-----Input-----\n\nA query is\n\n-----Query-----\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n-----Output-----\n\n\n\nn$\n\n\n\n elements are the same", "\n\n-----Input-----\n\n\n\n\n-----Input-----\n\n\n\n\n\nLynyrd and Skynrd bought to a shop\n\n-----Input-----\n\nQuery:\n\n-----Input-----\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n-----Input-----\n\n\n\nn$\n\n\n integers are all integers from", "\n\n\n\n\n-----Input-----\n\nThe Lynyrd and Skynyrd bought to a shop\n\n\n\n\n\n-----Output-----\n\nQuery:\n\n-----Input-----\n\nThe Lynyrd and Skynrd bought to a shop\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n elements are the same query.", "\n\n\n\n-----Input-----\n\n-----Input-----\n\n\n\nA query:\n\n-----Query-----\n\nThe first line contains three integers $n$ and $m$.\n\n-----Input-----\n\nThe first line contains three integers $q$\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n-----Output-----\n elements"], "prompt": "\nQUESTION:\nRecently Lynyrd and Skynyrd went to a shop where Lynyrd bought a permutation $p$ of length $n$, and Skynyrd bought an array $a$ of length $m$, consisting of integers from $1$ to $n$. \n\nLynyrd and Skynyrd became bored, so they asked you $q$ queries, each of which has the following form: \"does the subsegment of $a$ from the $l$-th to the $r$-th positions, inclusive, have a subsequence that is a cyclic shift of $p$?\" Please answer the queries.\n\nA permutation of length $n$ is a sequence of $n$ integers such that each integer from $1$ to $n$ appears exactly once in it.\n\nA cyclic shift of a permutation $(p_1, p_2, \\ldots, p_n)$ is a permutation $(p_i, p_{i + 1}, \\ldots, p_{n}, p_1, p_2, \\ldots, p_{i - 1})$ for some $i$ from $1$ to $n$. For example, a permutation $(2, 1, 3)$ has three distinct cyclic shifts: $(2, 1, 3)$, $(1, 3, 2)$, $(3, 2, 1)$.\n\nA subsequence of a subsegment of array $a$ from the $l$-th to the $r$-th positions, inclusive, is a sequence $a_{i_1}, a_{i_2}, \\ldots, a_{i_k}$ for some $i_1, i_2, \\ldots, i_k$ such that $l \\leq i_1 < i_2 < \\ldots < i_k \\leq r$.\n\n\n-----Input-----\n\nThe first line contains three integers $n$, $m$, $q$ ($1 \\le n, m, q \\le 2 \\cdot 10^5$)\u00a0\u2014 the length of the permutation $p$, the length of the array $a$ and the number of queries.\n\nThe next line contains $n$ integers from $1$ to $n$, where the $i$-th of them is the $i$-th element of the permutation. Each integer from $1$ to $n$ appears exactly once.\n\nThe next line contains $m$ integers from $1$ to $n$, the $i$-th of them is the $i$-th element of the array $a$.\n\nThe next $q$ lines describe queries. The $i$-th of these lines contains two integers $l_i$ and $r_i$ ($1 \\le l_i \\le r_i \\le m$), meaning that the $i$-th query is about the subsegment of the array from the $l_i$-th to the $r_i$-th positions, inclusive.\n\n\n-----Output-----\n\nPrint a single string of length $q$, consisting of $0$ and $1$, the digit on the $i$-th positions should be $1$, if the subsegment of array $a$ from the $l_i$-th to the $r_i$-th positions, inclusive, contains a subsequence that is a cyclic shift of $p$, and $0$ otherwise.\n\n\n-----Examples-----\nInput\n3 6 3\n2 1 3\n1 2 3 1 2 3\n1 5\n2 6\n3 5\n\nOutput\n110\n\nInput\n2 4 3\n2 1\n1 1 2 2\n1 2\n2 3\n3 4\n\nOutput\n010\n\n\n\n-----Note-----\n\nIn the first example the segment from the $1$-st to the $5$-th positions is $1, 2, 3, 1, 2$. There is a subsequence $1, 3, 2$ that is a cyclic shift of the permutation. The subsegment from the $2$-nd to the $6$-th positions also contains a subsequence $2, 1, 3$ that is equal to the permutation. The subsegment from the $3$-rd to the $5$-th positions is $3, 1, 2$, there is only one subsequence of length $3$ ($3, 1, 2$), but it is not a cyclic shift of the permutation.\n\nIn the second example the possible cyclic shifts are $1, 2$ and $2, 1$. The subsegment from the $1$-st to the $2$-nd positions is $1, 1$, its subsequences are not cyclic shifts of the permutation. The subsegment from the $2$-nd to the $3$-rd positions is $1, 2$, it coincides with the permutation. The subsegment from the $3$ to the $4$ positions is $2, 2$, its subsequences are not cyclic shifts of the permutation.\nUse Standard Input format\nANSWER:\n"}}