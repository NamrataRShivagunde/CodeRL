{"519": {"code": ["\n\n\n\n\n\n\n\n\n\t\n\n\n\nV[1],V[2],V[3],V[4],B[1],B[2],B[3]\n\n\n\n are given:\n\n\n\n\n are matched.\n\n\n\n\n\n\n\n\n\n\n\t\n\n\n\t\n2*k\n\n can be matched by k =", "\n\n\n\n\n\n\n\n\n1\t1\t2\t2\t3\t4\t-2\t-1\t-2\t-1\t1\t-2\t-1\n\n\n\n\n\t\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t\n\n\n\n\n can be matched by a pair up to k+", "\n\n\n\n\n\n\n\t\n\n\n\tV = [1,2,3,4,5,6]\n\n\tB = [1,2,3]\n\n\n\n\n\t\n\t\n\n\n are matched.\n\n\n\n\t\n\n\n\n\n\n\n\n\n\n\t are matched:\n\n\n are matched by the same number of open brackets.", "\n\n\n\n\n\n\n\n1) The following two sequences are not well-bracketed sequences\n\n2) the first two sequences are well-bracketed sequences\n3) the second two sequences are well-bracketed sequences\n\n4) the second two sequences\n\n\n2)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n are the same", "\n\n\n\n\n\n\n\t\n\n\n\n\n\n\t are not paired up.\n\n\n\n\tV[1]\t1\t2\t3\t4\t-2\t-2\t-1\t-2\t1\t6\n\n\n\n are not paired up.\n\n\n\n\n\n\n\n\n\n\t\n\n\n\n can be matched by a sequence of k", "\n\n\n\n\n\n\n\n\n\n\n\n1)\n\n2)\n\n3)\n\n1)\n\n2)\n\n\n\n\n\n\n\n\n\n\n1)\n\t-2\t-1\t2\t-1\t2\t-2\t-1\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ni\t1\t2", "\n\n\n\n\n\n\n\n\n\t\n\t1\n\t2\n\t3\n\t4\n\t5\n\t6\n\n\n\n\n\ti\n\t1\t2\t3\n\t5\t4\t6\n\n\n\n\n\n\n are matched.\n\n\n\n\n\n\n\n\n\n\n\t\n\n\n\n\n\n\n\tV[1]\t1", "\n\n\n\n\n\n\n\t\n\n\n\tThe following is a problem:\n\n\t1) A sequence of k subsequences of k\n\t2) A sequence of k\n\t3\n\n\t2) A sequence of k\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t are matched\n\n\t\n\n are not well-bracketed as", "\n\n\n\n\n\n\n\n\n\tThe following code is equivalent to\n\n\ni\t1\t1\t2\t3\t4\t2\t3\t5\t6\n\n\n\n\n\n\n\n\n\t\n\n\n\n can be used in the example below.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n are:\n\n\ti\t", "\n\n\n\n\n\n\n\n\nV[1]\n\nB[1]\n\nB[1]\n\nk\n\n4\n\n\n\n\n\n occur.\n\n\n\n\n are considered paired up.\n\n\n\t1\t2\t3\t4\t-2\t-2\t-2\n\n\n\n\n\n\t\n\n\n\n and the closing brackets are", "\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t1) V[1]\t1\t2\t3\t4\t-2\t-2\t-1\t5\t6\n\n\n\n\n are matched:\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n can be given to k = 2", "\n\n\n\n\n\n\n\n\n\t\n\n\n\tK = 2\n\tN = 3\n\n\tK = 3\n\n\n\n\n\n\n\n\n\n\t\n are paired up\n\n\n\tA sequence of k types of brackets\n\n\tK = 3\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t are paired up.\n\n\t5) for", "\n\n\n\n\n\n\n\n1) k = 2\n2 = 3\n\n2) k = 4\n3 = 6\n\n1) k = 3\n\n2) k = 5\n\n2) k = 6\n\n1) k = 6\n\n2) k = 6\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n", "\n\n\n\n\n\n\n\n\n\n\n\t\n\n\n\t\n\n\n\t1) for a sequence of k: k+1,2,3,4,5\n\n\t2) for a sequence of k: k+1,3\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t\n\n\n\n\n are not well-bracket", "\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t1) in k = 2, 3\n\t2) in k = 1\n\t4 = 2\n\t5 = 2\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t1) in a sequence of k types\n\t2)\n\n\n 1,", "\n\n\n\n\n\n\n\t\n\n\n\tA match is made for k = 2\n\tA match is made for k = 3\n\n\n\n are found:\n\n\t1) k = 2\n\t2) k = 3\n\n\t\n\n\n are separated\n\n\n\n\n\n\n\n\n\n\n\n\n\t\n\n\n\n\n\n are considered paired up.", "\n\n\n\n\n\n\n\t\n\n\n\tA good example for this problem:\n\n\t1) The sequences of k = 2 and k = 3 and 1 = 4\n\n\t2) The sequences of k = 6 and k = 1\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t\n\n\n\n\n\n\n\t-1\t-2", "\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t\n\n\t1) in a sequence of k types: k = 2,4,5,6\n\n\t2) in a sequence of k types: k = 3\n\n\n\n\n\n are matched\n\n\n\n\n\n\n\n\n\n\t\n\n\n\n are re-sorted and the opening brackets are re-", "\n\n\n\n\n\n\n\n\n\n\tThe algorithm for matching the maximum sum is:\n\n\tK = 2\n\tK = 3\n\n\tK = 2\n\tK = 3\n\n\n\n\n\n\n\n are matched:\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t\n\n\t\n\n are not matched\n\n\tThe problem is given:\n", "\n\n\n\n\n\n\n\n\n\t\n\n\n\tThe following sequences are not well-bracketed:\n\n\t1\t1\t1\t1\t1\t1\t1\t1\t1\t1\t1\t1\t1\t1\t1\t1\t\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\t\n\n\n\n are in the same order,"], "prompt": "\nQUESTION:\nIndian National Olympiad in Informatics 2016\n\tThere are k types of brackets each with its own opening bracket and closing bracket. We assume that the first pair is denoted by the numbers 1 and k+1, the second by 2 and k+2 and so on. Thus the opening brackets are denoted by 1,2,.., k, and the corresponding closing brackets are denoted by k+1,k+2,..., 2*k respectively.\n\n\tSome sequences with elements from 1,2, ... 2*k form well-bracketed sequences while others don't. A sequence is well-bracketed, if we can match or pair up opening brackets and closing brackets of the same type in such a way that the following holds:\n\n\t 1) every bracket is paired up\n\n\t 2) in each matched pair, the opening bracket occurs before the closing bracket\n\n\t 3) for a matched pair, any other matched pair lies either completely between them or outside them.\n\n\tFor the examples discussed below, let us assume that k = 2. The sequence 1,1,3 is not well-bracketed as one of the two 1's cannot be paired. The sequence 3,1,3,1 is not well-bracketed as there is no way to match the second 1 to a closing bracket occurring after it. The sequence 1,2,3,4 is not well-bracketed as the matched pair 2,4 is neither completely between the matched pair 1,3 nor completely outside it. That is, the matched pairs cannot overlap. The sequence 1,2,4,3,1,3 is well-bracketed. We match the first 1 with the first 3, the 2 with the 4 and the second 1 with the second 3, satisfying all the 3 conditions. If you rewrite these sequences using [,{,],} instead of 1,2,3,4 respectively, this will be quite clear.\n\n\tIn this problem you are given a sequence of brackets, of length N: B[1], .., B[N], where each B[i] is one of the brackets. You are also given an array of Values: V[1],.., V[N].\n\n\tAmong all the subsequences in the Values array, such that the corresponding bracket subsequence in the B Array is a well-bracketed sequence, you need to find the maximum sum. Suppose N = 6, k = 3 and the values of V and B are as follows:\n\ni\t1\t2\t3\t4\t5\t6\nV[i]\t4\t5\t-2\t1\t1\t6\nB[i]\t1\t3\t4\t2\t5\t6\n\n\tThen, the brackets in positions 1,3 form a well-bracketed sequence (1,4) and the sum of the values in these positions is 2 (4 + -2 = 2). The brackets in positions 1,3,4,5 form a well-bracketed sequence (1,4,2,5) and the sum of the values in these positions is 4. Finally, the brackets in positions 2,4,5,6 forms a well-bracketed sequence (3,2,5,6) and the sum of the values in these positions is 13. The sum of the values in positions 1,2,5,6 is 16 but the brackets in these positions (1,3,5,6) do not form a well-bracketed sequence. You can check the best sum from positions whose brackets form a well-bracketed sequence is 13.\n\n\n-----Input format-----\n\tOne line, which contains (2*N + 2) space separate integers. The first integer denotes N. The next integer is k. The next N integers are V[1],..., V[N]. The last N integers are B[1],.., B[N].\n\n\n-----Output format-----\n\tOne integer, which is the maximum sum possible satisfying the requirement mentioned above. \n\n\n-----Test data-----\n\n\t\t1 \u2264 k \u2264 7\n\n\t\t-106 \u2264 V[i] \u2264 106, for all i\n\n\t\t1 \u2264 B[i] \u2264 2*k, for all i.\n\t\nSubtask 1 (40 Marks) 1 \u2264 n \u2264 10.\nSubtask 2 (60 Marks) 1 \u2264 n \u2264 700.\n\n\n-----Sample Input-----\n6 3 4 5 -2 1 1 6 1 3 4 2 5 6\n\n-----Sample Output-----\n13\nUse Standard Input format\nANSWER:\n"}}