{"711": {"code": ["\n\n-----Example Description-----\n\n\n\n\n\n\n-----Explanation-----\n\n\n\n1\n\n3\n1\n2\n3\n2\n3\n\n1\n2\n?\n\n2\n\n\n\n\n\n\n\n\n-----Explanation-----\n\n\n\n\n\n\n1\n\n1\n1\n2\n2\n2\n3\n1\n\n??", "\n\n\n1 \\le S \\le S \\le A \\le S \\le A\n3 \\le S \\le S \\le A\n2 \\le?\n3\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n2\n\n\n\n\n\n\n-----Example Example 1:\n\n1 \\le A \\le S \\le?\n1?", "\n\n-----Description-----\n\n\n\n\n\n\n\n\n1\n\n2\n2\n3\n\n-----Explanation-----\n\nExample case 1:\n\n?\n\n2\n3\n\n-----Explanation-----\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n-----Explanation-----\n\n\n1\n5\n2\n11\n2\n3\n2\n?", "\n\n\n1 \\le S \\le T \\le S \\le 1 \\le 5 \\le 10^5\n2 \\le 3 \\le 3\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nExplanation-----\n\n\n1 \\le 1 \\le 2 \\le 3\n\n\", \"a\", \"a\", \"a\", \"", "\n\n\n1\n2\n3\n1\n2\n2\n3\n1\n2\n2\n3\n2\n2\n1\n1\n2\n2\n2\n2\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nExplanation-----\n\n\n\n1\n\n2\n\", \"a\", \"a\", \"", "\n\n\n1\n2\n3\n4\n5\n3\n5\n\n\n\n\n\n1\n2\n\n1\n\n3\n2\n3\n\n\n\n\n\n\n\n?\n\n\n\n\n\n\n\nExplanation-----\n- The notorious hacker group \"Sed\" managed obtain a string $S$:\n\n\n\n\n????", "\n\n\n\n\n\n-----Example Description-----\n\n\n1\n3\n\n3\n3\n\n2\n\n\n\n??????\n\n\n\n\n\n\n\n\n\n\n2\n2\n\n-----Explanation-----\n\nExample case 2:\n\nExample case 3:\n\n\n\n\n\nExplanation-----\n\n\n???????", "\n\n-----Example Example 1:\n\n\n\n\nConstraints-----\n\n2 \\le S \\le 10^5$\n5 \\le 3\n\n\n\n\n\n\n2\n3 \\le 10^5$\n\n\n\n\n\n\n\n\n\n\n2\n2\n\n\n\n\n\n\n-----Explanation-----\n\nA non-combining case 2:\n?", "\n\n\n\n\n\n\nExplanation-----\n\n1:\n1\n2\n3\n4\n5\n7\n\n\n2\n\n\n1\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n-----Example Explanation-----\n\n1:\n$1 \\le T \\le S \\le 20^5$\na???\na????\n", "\n\n\n1 \\le 2 \\le 3\n2 \\le 4\n1 \\le 5\n1 \\le 6\n2\n2\n2\n3\n\n\n\n\n\n\n\n1\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n-----Explanation-----\n\n\n\n1 \\le 6\n\n1 \\le 5\n1 \\le 7\n????", "\nExample Case 1:\n\n\n\n\n\n-----Explanation-----\n\n3 \\le A \\le B \\le C \\le C \\le?\n\n\n-----Example Explanation-----\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n-----Explanation-----\n\n\n\n\n\n\n3 \\le\n\", \"a\", \"a\", \"aa\", \"a\", \"", "\n\n\n\n3\n\n\n\n1\n5\n2\n3\n2\n3\n\n\n\n\n\n\n5\n\n\n\n\n?\n\n\n\n\n\n\n1\n\n1\n\n1\n\n2\n2\n3\n2\n1\n1\n2\n2\n1\n1\n1\n1\n1\n1\n1\n1\n\n??", "\n\n\n5\n3\n\n\n\n\n\n\n\n3\n\n\n?\n?\n\n\n?\n\n\n\n-----Example Parameters-----\n- $1 \\le T \\le 10^5$\n5\n\n\n-----Example Parameters-----\n\n\n\n\n\n-----Example Explanation-----\n\n\n\n\n\n-----Example Parameters-----\n- $1 \\le T\", \"", "\n\n-----Example Description-----\n\nExample case 0:\n\n\n\n-----Example Description-----\n\n\n\n\n\n\n1\n2\n2\n2\n\n\n\n\n5\n3\n2\n\n\n\n\n\n\n\n\n\n\n-----Explanation-----\n\nExample case 2:\n\n\n\n\n\n\n-----Explanation-----\n\n\"\n\n\n\n\n-----", "\n\n-----Example Description-----\n1:\n\n\n\n\n\n-----Example Description-----\n2\n3\n\n\n\n\n2\n\n\n\n\n\n\n\n\n?\n\n\n\n\n\n\n1\n1\n\n2\n2\n27\n\n-----Example Explanation-----\n\n3:\nSed managed with the following secret sources:\n\n\n?????", "\n\n\n\n2\n3\n2\n2\n2\n3\n\n\n\n\n\n1\n1\n2\n2\n3\n3\n3\n2\n3\n2\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n2\n2\n\nConstraints-----\n\n\n\", \"a\", \"a\", \"a\", \"a\", \"a\",", "\n\n\n\n\n\n\n-----Example Description-----\n\n5\n\n2\n3\n5\n\n\n1\n\n1\n\n-----Explanation-----\n\n\n\n\n\n\n\n\n\n\n1\n\n\n2\n\n\n\n\n-----Explanation-----\n\n0:\n\nT \\le 10^5$\ns \\le 5$\na???\n?", "\n\n-----Example Case 1:\n\n\n\n\n\n\n\n\n\n\n\n2 \\le 5 \\le 5 $\n\n\n-----Explanation-----\n\nExample case 1:\n\n\n\n\n\n\n\n\n\n2 \\le 5 $\n\n\n\n\n\n1 \\le 5 $\n3 \\le 10^5 $\n\n-----Explanation-----\n\n???", "\n\n\n3\n\n3\n\n\n\n\n-----Explanation-----\n\n\n\n\n2\n3\n\n-----Explanation-----\n\nExample case 1:\n\nExample case 2\n\nExample case 2\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n1\n\n\n\n1\n\n\n1\n\", \"a\", \"a\", \"a\", \"", "\n\n\n\n-----Example Description-----\n1:\nA test case\n5\na?\nb?\n?\n\n-----Example Description-----\n2\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n-----Explanation-----\n\n\n-----Example Input-----\n1\n1\n2\n3\n\n\n\", \"z?"], "prompt": "\nQUESTION:\nThe notorious hacker group \"Sed\" managed to obtain a string $S$ from their secret sources. The string contains only lowercase English letters along with the character '?'.\nA substring of $S$ is a contiguous subsequence of that string. For example, the string \"chef\" is a substring of the string \"codechef\", but the string \"codeh\" is not a substring of \"codechef\".\nA substring of $S$ is good if it is possible to choose a lowercase English letter $C$ such that the following process succeeds:\n- Create a string $R$, which is a copy of the substring, but with each '?' replaced by the letter $c$. Note that all occurrences of '?' must be replaced by the same letter.\n- For each lowercase English letter:\n- Compute the number of times it occurs in $S$ and the number of times it occurs in $R$; let's denote them by $A$ and $B$ respectively. The '?' characters in the original string $S$ are ignored when computing $A$.\n- Check the parity of $A$ and $B$. If they do not have the same parity, i.e. one of them is even while the other is odd, then this process fails.\n- If the parities of the number of occurrences in $S$ and $R$ are the same for each letter, the process succeeds.\nFor different substrings, we may choose different values of $C$.\nHelp Sed find the number of good substrings in the string $S$.\n\n-----Input-----\n- The first line of the input contains a single integer $T$ denoting the number of test cases. The description of $T$ test cases follows.\n- The first and only line of each test case contains a single string $S$.\n\n-----Output-----\nFor each test case, print a single line containing one integer \u2015 the number of good substrings.\n\n-----Constraints-----\n- $1 \\le T \\le 10^5$\n- $1 \\le S \\le 10^5$\n- $S$ contains only lowercase English letters ('a' through 'z') and '?'\n- the sum of $|S|$ over all test cases does not exceed $10^5$\n\n-----Example Input-----\n5\naa?\na???\n????\nasfhaslskfak\naf??avvnfed?fav?faf????\n\n-----Example Output-----\n2\n6\n4\n2\n27\n\n-----Explanation-----\nExample case 1: All letters occur an even number of times in $S$. The six substrings of $S$ are \"a\", \"a\", \"?\", \"aa\", \"a?\" and \"aa?\" (note that \"a\" is counted twice). Which of them are good?\n- \"a\" is not good as 'a' occurs an odd number of times in this substring and there are no '?' to replace.\n- \"?\" is also not good as replacing '?' by any letter causes this letter to occur in $R$ an odd number of times.\n- \"aa\" is a good substring because each letter occurs in it an even number of times and there are no '?' to replace.\n- \"a?\" is also a good substring. We can replace '?' with 'a'. Then, $R$ is \"aa\" and each letter occurs in this string an even number of times. Note that replacing '?' e.g. with 'b' would not work ($R$ would be \"ab\", where both 'a' and 'b' occur an odd number of times), but we may choose the replacement letter $C$ appropriately.\n- \"aa?\" is not a good substring. For any replacement letter $C$, we find that $C$ occurs an odd number of times in $R$.\nExample case 2: We especially note that \"a???\" is not a good substring. Since all '?' have to be replaced by the same character, we can only get strings of the form \"aaaa\", \"abbb\", \"accc\", etc., but none of them match the criteria for a good substring.\nExample case 3: Any substring with even length is good.\nUse Standard Input format\nANSWER:\n"}}